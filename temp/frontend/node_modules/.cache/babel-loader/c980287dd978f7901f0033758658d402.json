{"ast":null,"code":"import axios from 'axios';\nimport httpStatus from 'http-status';\nimport { confirmAlert } from 'react-confirm-alert'; // Import\n\nimport 'react-confirm-alert/src/react-confirm-alert.css'; //\n\nimport { refreshToken, REQUEST_AUTH_TOKEN_FAILED } from '../components/Auth/AuthActions';\nimport moment from 'moment-timezone';\nexport const makeAuthRequest = (data, tries = 0, newTokenData) => async (authContext, showAlert = false) => {\n  let {\n    accessToken\n  } = authContext.state;\n  data.headers = {\n    Authorization: `Bearer ${accessToken}`\n  };\n  return await axios(data);\n};\nexport const stringifyQuery = queryParams => {\n  const params = [];\n\n  for (const param in queryParams) {\n    if (queryParams.hasOwnProperty(param)) {\n      if (Array.isArray(queryParams[param])) {\n        for (const innerIndex in queryParams[param]) {\n          if (queryParams[param].hasOwnProperty(innerIndex)) {\n            if (Array.isArray(queryParams[param][innerIndex])) {\n              for (const innerInnerIndex in queryParams[param][innerIndex]) {\n                if (queryParams[param][innerIndex].hasOwnProperty(innerInnerIndex)) {\n                  if (!Array.isArray(queryParams[param][innerIndex][innerInnerIndex]) && !(queryParams[param][innerIndex][innerInnerIndex] instanceof Object)) {\n                    params.push(`${param}[${innerIndex}][${innerInnerIndex}]=${queryParams[param][innerIndex][innerInnerIndex]}`);\n                  }\n                }\n              }\n            } else if (!(queryParams[param][innerIndex] instanceof Object)) {\n              params.push(`${param}[${innerIndex}]=${queryParams[param][innerIndex]}`);\n            }\n          }\n        }\n      } else if (queryParams[param] instanceof Object) {\n        let index = 0;\n\n        for (const innerIndex in queryParams[param]) {\n          if (queryParams[param].hasOwnProperty(innerIndex)) {\n            params.push(`${param}[${index}][0]=${innerIndex}`);\n\n            if (Array.isArray(queryParams[param][innerIndex])) {\n              for (const innerInnerIndex in queryParams[param][innerIndex]) {\n                if (queryParams[param][innerIndex].hasOwnProperty(innerInnerIndex)) {\n                  if (!Array.isArray(queryParams[param][innerIndex][innerInnerIndex]) && !(queryParams[param][innerIndex][innerInnerIndex] instanceof Object)) {\n                    params.push(`${param}[${index}][${Number(innerInnerIndex) + 1}]=${queryParams[param][innerIndex][innerInnerIndex]}`);\n                  }\n                }\n              }\n            } else if (!(queryParams[param][innerIndex] instanceof Object)) {\n              params.push(`${param}[${index}]=${queryParams[param][innerIndex]}`);\n            }\n          }\n\n          index++;\n        }\n      } else {\n        params.push(`${param}=${queryParams[param]}`);\n      }\n    }\n  }\n\n  return params.join('&');\n};","map":{"version":3,"sources":["/Users/emilian.radu/Developer/AIProject/frontend/src/helpers/requestHelpers.js"],"names":["axios","httpStatus","confirmAlert","refreshToken","REQUEST_AUTH_TOKEN_FAILED","moment","makeAuthRequest","data","tries","newTokenData","authContext","showAlert","accessToken","state","headers","Authorization","stringifyQuery","queryParams","params","param","hasOwnProperty","Array","isArray","innerIndex","innerInnerIndex","Object","push","index","Number","join"],"mappings":"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","sourcesContent":["import axios from 'axios'\r\nimport httpStatus from 'http-status'\r\nimport {confirmAlert} from 'react-confirm-alert' // Import\r\nimport 'react-confirm-alert/src/react-confirm-alert.css' //\r\nimport {refreshToken, REQUEST_AUTH_TOKEN_FAILED} from '../components/Auth/AuthActions'\r\nimport moment from 'moment-timezone'\r\n\r\nexport const makeAuthRequest = (data, tries = 0, newTokenData) => async (authContext, showAlert = false) => {\r\n    let {accessToken} = authContext.state\r\n    data.headers = {Authorization: `Bearer ${accessToken}`}\r\n    return await axios(data)\r\n}\r\nexport const stringifyQuery = (queryParams) => {\r\n    const params = []\r\n    for (const param in queryParams) {\r\n        if (queryParams.hasOwnProperty(param)) {\r\n            if (Array.isArray(queryParams[param])) {\r\n                for (const innerIndex in queryParams[param]) {\r\n                    if (queryParams[param].hasOwnProperty(innerIndex)) {\r\n                        if (Array.isArray(queryParams[param][innerIndex])) {\r\n                            for (const innerInnerIndex in queryParams[param][innerIndex]) {\r\n                                if (queryParams[param][innerIndex].hasOwnProperty(innerInnerIndex)) {\r\n                                    if (!(Array.isArray(queryParams[param][innerIndex][innerInnerIndex])) && !(queryParams[param][innerIndex][innerInnerIndex] instanceof Object)) {\r\n                                        params.push(`${param}[${innerIndex}][${innerInnerIndex}]=${queryParams[param][innerIndex][innerInnerIndex]}`)\r\n                                    }\r\n                                }\r\n                            }\r\n                        } else if (!(queryParams[param][innerIndex] instanceof Object)) {\r\n                            params.push(`${param}[${innerIndex}]=${queryParams[param][innerIndex]}`)\r\n                        }\r\n                    }\r\n                }\r\n            } else if (queryParams[param] instanceof Object) {\r\n                let index = 0\r\n                for (const innerIndex in queryParams[param]) {\r\n                    if (queryParams[param].hasOwnProperty(innerIndex)) {\r\n                        params.push(`${param}[${index}][0]=${innerIndex}`)\r\n                        if (Array.isArray(queryParams[param][innerIndex])) {\r\n                            for (const innerInnerIndex in queryParams[param][innerIndex]) {\r\n                                if (queryParams[param][innerIndex].hasOwnProperty(innerInnerIndex)) {\r\n                                    if (!(Array.isArray(queryParams[param][innerIndex][innerInnerIndex])) && !(queryParams[param][innerIndex][innerInnerIndex] instanceof Object)) {\r\n                                        params.push(`${param}[${index}][${Number(innerInnerIndex) + 1}]=${queryParams[param][innerIndex][innerInnerIndex]}`)\r\n                                    }\r\n                                }\r\n                            }\r\n                        } else if (!(queryParams[param][innerIndex] instanceof Object)) {\r\n                            params.push(`${param}[${index}]=${queryParams[param][innerIndex]}`)\r\n                        }\r\n                    }\r\n                    index++\r\n                }\r\n            } else {\r\n                params.push(`${param}=${queryParams[param]}`)\r\n            }\r\n        }\r\n    }\r\n    return params.join('&')\r\n}\r\n"]},"metadata":{},"sourceType":"module"}