{"ast":null,"code":"var _jsxFileName = \"/Users/emilian.radu/Developer/meetup/frontend/src/config/Router.js\";\nimport { Route, Switch, Redirect, BrowserRouter } from 'react-router-dom';\nimport React, { Suspense, lazy, useContext, useEffect } from 'react';\nimport Layout from '../components/Layout/Layout';\nimport LayoutAuth from '../components/Layout/LayoutAuth';\nimport { AuthContext } from '../components/Auth/AuthContext';\nimport { PrivateRoute } from '../components/Global/PrivateRoute';\nimport { getUser } from '../components/Auth/AuthActions';\nimport { BrowserView } from 'react-device-detect';\nimport HeaderWeb from '../components/Global/Header/HeaderWeb';\nexport const routes = [{\n  name: 'Courses',\n  path: '/courses',\n  component: lazy(() => import('../components/Courses/CoursesRouter'))\n}, {\n  name: 'Rooms',\n  path: '/rooms',\n  component: lazy(() => import('../components/Rooms/RoomsRouter'))\n}, {\n  name: 'Timetable',\n  path: '/timetable',\n  component: lazy(() => import('../components/Timetable/TimetableRoutes'))\n}];\nexport const extraRoutes = [{\n  name: 'Login',\n  path: '/login',\n  component: lazy(() => import('../components/Auth/LoginView'))\n}, {\n  name: 'Register',\n  path: '/register',\n  component: lazy(() => import('../components/Auth/RegisterView'))\n}];\nexport default function Router() {\n  const authContext = useContext(AuthContext);\n  const {\n    loggedIn,\n    user\n  } = authContext.state;\n  useEffect(() => {\n    loggedIn && getUser(authContext);\n  }, [loggedIn]);\n  return /*#__PURE__*/React.createElement(BrowserRouter, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 5\n    }\n  }, loggedIn ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(BrowserView, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(HeaderWeb, {\n    role: user && user.role,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(RouterContent, {\n    loggedIn: loggedIn,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 17\n    }\n  }))) : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(BrowserView, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(RouterContent, {\n    loggedIn: loggedIn,\n    role: user && user.role,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 17\n    }\n  }))));\n}\nexport function RouterContent({\n  loggedIn,\n  role\n}) {\n  return /*#__PURE__*/React.createElement(Suspense, {\n    fallback: /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 25\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Switch, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }\n  }, routes.map((route, index) => /*#__PURE__*/React.createElement(PrivateRoute, {\n    key: index,\n    path: route.path,\n    allowed: !!loggedIn,\n    redirectTo: \"/login\",\n    render: props => /*#__PURE__*/React.createElement(Layout, Object.assign({}, props, {\n      Content: route.component,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 19\n      }\n    })),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 15\n    }\n  })), extraRoutes.map((route, index) => /*#__PURE__*/React.createElement(PrivateRoute, {\n    key: index,\n    path: route.path,\n    allowed: !loggedIn,\n    redirectTo: '/courses',\n    render: props => /*#__PURE__*/React.createElement(LayoutAuth, Object.assign({}, props, {\n      Content: route.component,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 17\n      }\n    })),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(Route, {\n    path: \"\",\n    render: () => /*#__PURE__*/React.createElement(Redirect, {\n      to: \"/login\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 38\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 9\n    }\n  })));\n}","map":{"version":3,"sources":["/Users/emilian.radu/Developer/meetup/frontend/src/config/Router.js"],"names":["Route","Switch","Redirect","BrowserRouter","React","Suspense","lazy","useContext","useEffect","Layout","LayoutAuth","AuthContext","PrivateRoute","getUser","BrowserView","HeaderWeb","routes","name","path","component","extraRoutes","Router","authContext","loggedIn","user","state","role","RouterContent","map","route","index","props"],"mappings":"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","sourcesContent":["import { Route, Switch, Redirect, BrowserRouter } from 'react-router-dom'\nimport React, { Suspense, lazy, useContext, useEffect } from 'react'\nimport Layout from '../components/Layout/Layout'\nimport LayoutAuth from '../components/Layout/LayoutAuth'\nimport { AuthContext } from '../components/Auth/AuthContext'\nimport { PrivateRoute } from '../components/Global/PrivateRoute'\nimport { getUser } from '../components/Auth/AuthActions'\nimport { BrowserView } from 'react-device-detect'\nimport HeaderWeb from '../components/Global/Header/HeaderWeb'\n\nexport const routes = [\n  {\n    name: 'Courses',\n    path: '/courses',\n    component: lazy(() => import('../components/Courses/CoursesRouter'))\n  },\n  {\n    name: 'Rooms',\n    path: '/rooms',\n    component: lazy(() => import('../components/Rooms/RoomsRouter'))\n  },\n  {\n    name: 'Timetable',\n    path: '/timetable',\n    component: lazy(() => import('../components/Timetable/TimetableRoutes'))\n  },\n]\n\nexport const extraRoutes = [\n  {\n    name: 'Login',\n    path: '/login',\n    component: lazy(() => import('../components/Auth/LoginView'))\n  },\n  {\n    name: 'Register',\n    path: '/register',\n    component: lazy(() => import('../components/Auth/RegisterView'))\n  }\n]\n\n\nexport default function Router() {\n  const authContext = useContext(AuthContext)\n  const { loggedIn, user } = authContext.state\n  useEffect(() => {\n    loggedIn && getUser(authContext)\n  }, [loggedIn])\n  return (\n    <BrowserRouter>\n      {\n        loggedIn ? (\n            <>\n              <BrowserView>\n                <HeaderWeb role={user && user.role}/>\n                <RouterContent loggedIn={loggedIn} />\n              </BrowserView>\n            </>)\n          :\n          (\n            <>\n              <BrowserView>\n                <RouterContent loggedIn={loggedIn} role={user && user.role}/>\n              </BrowserView>\n            </>)\n      }\n\n    </BrowserRouter>\n  )\n}\n\nexport function RouterContent({ loggedIn, role }) {\n  return (\n    <Suspense fallback={<div/>}>\n      <Switch>\n        {\n          routes.map((route, index) => (\n              <PrivateRoute\n                key={index} path={route.path}\n                allowed={!!loggedIn}\n                redirectTo='/login'\n                render={(props) => (\n                  <Layout {...props} Content={route.component}/>\n                )}\n              />\n            )\n          )\n        }\n        {\n          extraRoutes.map((route, index) => (\n            <PrivateRoute\n              key={index} path={route.path}\n              allowed={!loggedIn}\n              redirectTo={'/courses'}\n              render={(props) => (\n                <LayoutAuth {...props} Content={route.component}/>\n\n              )}\n            />\n          ))\n        }\n        <Route path='' render={() => <Redirect to='/login'/>}/>\n      </Switch>\n    </Suspense>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}