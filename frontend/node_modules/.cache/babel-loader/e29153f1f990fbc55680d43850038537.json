{"ast":null,"code":"var _jsxFileName = \"/Users/emilian.radu/Developer/AIProject/frontend/src/components/Global/Header/HeaderTopWeb.js\";\nimport React, { useState, useContext, useEffect, useRef } from 'react';\nimport { HeaderTopWrapper, HeaderTopLeft, HeaderTopRight } from './styles/headerWeb';\nimport { ButtonMain } from '../../../styles/shared/button';\nimport { Avatar } from '../../../styles/shared/avatar';\nimport { Link, withRouter } from 'react-router-dom';\nimport Dropdown from '../Dropdown/Dropdown';\nimport { Logo } from '../../../styles/shared/logo';\nimport NavbarWeb from '../Navbar/NavbarWeb';\nimport AddDropdown from '../Dropdown/AddDropdown';\nimport { AuthContext } from '../../Auth/AuthContext';\nimport { WhitePLink } from \"../../../styles/typography/typography\";\n\nfunction HeaderTop({\n  history,\n  role,\n  ...props\n}) {\n  const authContext = useContext(AuthContext);\n\n  function useOutsideAlerter({\n    ref,\n    expand,\n    setExpand\n  }) {\n    function handleClickOutside(event) {\n      event.stopPropagation();\n\n      if (ref.current && expand === true && !ref.current.contains(event.target)) {\n        setExpand(!expand);\n      }\n    }\n\n    useEffect(() => {\n      document.addEventListener('click', handleClickOutside);\n      return () => {\n        document.removeEventListener('click', handleClickOutside);\n      };\n    });\n  }\n\n  const wrapperRefLogout = useRef(null);\n  const wrapperRefAdd = useRef(null);\n  const [dropdown, setDropdown] = useState('');\n  const {\n    user\n  } = authContext.state;\n  const [addDropdown, setAddDropdown] = useState('');\n  useOutsideAlerter({\n    ref: wrapperRefLogout,\n    expand: dropdown,\n    setExpand: setDropdown\n  });\n  useOutsideAlerter({\n    ref: wrapperRefAdd,\n    expand: addDropdown,\n    setExpand: setAddDropdown\n  });\n\n  let dropDownAction = () => {\n    setAddDropdown(!addDropdown);\n  }; // if (user.role === 'register') {\n  //   dropDownAction = () => {\n  //     history.push('/users/create')\n  //   }\n  // }\n\n\n  return /*#__PURE__*/React.createElement(HeaderTopWrapper, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Logo, {\n    web: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 9\n    }\n  }, \"AIProject\")), /*#__PURE__*/React.createElement(HeaderTopLeft, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(NavbarWeb, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(HeaderTopRight, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      position: 'relative',\n      display: 'flex',\n      flexFlow: 'column'\n    },\n    ref: wrapperRefAdd,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 9\n    }\n  }, user.isAdmin && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(ButtonMain, {\n    onClick: dropDownAction,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 11\n    }\n  }, \"Add new\"), /*#__PURE__*/React.createElement(AddDropdown, {\n    show: addDropdown,\n    showFunction: setAddDropdown,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 11\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      position: 'relative',\n      display: 'flex',\n      flexFlow: 'row'\n    },\n    ref: wrapperRefLogout,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Avatar, {\n    pointer: true,\n    onClick: () => {\n      setDropdown(!dropdown);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Dropdown, {\n    show: dropdown,\n    setShow: setDropdown,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 11\n    }\n  }))));\n}\n\nexport default withRouter(HeaderTop);","map":{"version":3,"sources":["/Users/emilian.radu/Developer/AIProject/frontend/src/components/Global/Header/HeaderTopWeb.js"],"names":["React","useState","useContext","useEffect","useRef","HeaderTopWrapper","HeaderTopLeft","HeaderTopRight","ButtonMain","Avatar","Link","withRouter","Dropdown","Logo","NavbarWeb","AddDropdown","AuthContext","WhitePLink","HeaderTop","history","role","props","authContext","useOutsideAlerter","ref","expand","setExpand","handleClickOutside","event","stopPropagation","current","contains","target","document","addEventListener","removeEventListener","wrapperRefLogout","wrapperRefAdd","dropdown","setDropdown","user","state","addDropdown","setAddDropdown","dropDownAction","position","display","flexFlow","isAdmin"],"mappings":"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","sourcesContent":["import React, { useState, useContext, useEffect, useRef } from 'react'\nimport {\n  HeaderTopWrapper,\n  HeaderTopLeft,\n  HeaderTopRight\n} from './styles/headerWeb'\nimport { ButtonMain } from '../../../styles/shared/button'\nimport { Avatar } from '../../../styles/shared/avatar'\nimport { Link, withRouter } from 'react-router-dom'\nimport Dropdown from '../Dropdown/Dropdown'\nimport { Logo } from '../../../styles/shared/logo'\nimport NavbarWeb from '../Navbar/NavbarWeb'\nimport AddDropdown from '../Dropdown/AddDropdown'\nimport { AuthContext } from '../../Auth/AuthContext'\nimport {WhitePLink} from \"../../../styles/typography/typography\";\n\nfunction HeaderTop({ history, role, ...props }) {\n  const authContext = useContext(AuthContext)\n\n  function useOutsideAlerter({ ref, expand, setExpand }) {\n    function handleClickOutside(event) {\n      event.stopPropagation()\n      if (\n        ref.current &&\n        expand === true &&\n        !ref.current.contains(event.target)\n      ) {\n        setExpand(!expand)\n      }\n    }\n\n    useEffect(() => {\n      document.addEventListener('click', handleClickOutside)\n      return () => {\n        document.removeEventListener('click', handleClickOutside)\n      }\n    },)\n  }\n\n\n  const wrapperRefLogout = useRef(null)\n  const wrapperRefAdd = useRef(null)\n  const [dropdown, setDropdown] = useState('')\n  const { user } = authContext.state\n  const [addDropdown, setAddDropdown] = useState('')\n  useOutsideAlerter({\n    ref: wrapperRefLogout,\n    expand: dropdown,\n    setExpand: setDropdown\n  })\n  useOutsideAlerter({\n    ref: wrapperRefAdd,\n    expand: addDropdown,\n    setExpand: setAddDropdown\n  })\n  let dropDownAction = () => {\n    setAddDropdown(!addDropdown)\n  }\n  // if (user.role === 'register') {\n  //   dropDownAction = () => {\n  //     history.push('/users/create')\n  //   }\n  // }\n  return (\n    <HeaderTopWrapper>\n      <Logo web>\n        <Link to='/'>AIProject</Link>\n      </Logo>\n      <HeaderTopLeft>\n        <NavbarWeb/>\n      </HeaderTopLeft>\n      <HeaderTopRight>\n        <div\n          style={{ position: 'relative', display: 'flex', flexFlow: 'column' }}\n          ref={wrapperRefAdd}\n        >\n          {\n            user.isAdmin &&\n            <>\n          <ButtonMain\n            onClick={dropDownAction}\n          >\n            Add new\n          </ButtonMain>\n\n          <AddDropdown show={addDropdown} showFunction={setAddDropdown}/>\n          </>\n          }\n        </div>\n        <div\n          style={{ position: 'relative', display: 'flex', flexFlow: 'row' }}\n          ref={wrapperRefLogout}\n        >\n          <Avatar\n            pointer\n            onClick={() => {\n              setDropdown(!dropdown)\n            }}\n          />\n          <Dropdown show={dropdown} setShow={setDropdown}/>\n        </div>\n      </HeaderTopRight>\n    </HeaderTopWrapper>\n  )\n}\n\nexport default withRouter(HeaderTop)\n"]},"metadata":{},"sourceType":"module"}